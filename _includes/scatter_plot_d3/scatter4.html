<style>
	#scatter4 text {
		font: 12px sans-serif;
	}
	#scatter4 .axis path,
	#scatter4 .axis line {
		fill: none;
		stroke: #000;
		shape-rendering: crispEdges;
	}
</style>
<script>
	var xAxis4 = d3.svg.axis()
			.scale(x);

	var yAxis4 = d3.svg.axis()
			.orient('left')
			.scale(y);
	
	var svg4 = d3.selectAll("div#scatter4")                                                      
			.append("svg")                                                           
			.attr("width", width)                                                    
			.attr("height", height);                                                 

	var chartGroup4 = svg4.append("g")                                                 
			.attr("transform", "translate(" + margin.left + "," + margin.top + ")"); 

	chartGroup4.append("g")                                                           
			.attr("class", "x axis")
			.attr("transform", "translate(0," + chart_height + ")")
			.call(xAxis4);                                                            

	chartGroup4.append("g")                                                           
			.attr("class", "y axis")                                                 
			.call(yAxis4);
	
	function update4() {                                                              
			for (var i = 0; i < 100; i++) {                                              
				data[i] = [Math.random(), Math.random()];                                
			}                                                                            

			chartGroup4.selectAll("circle")                                               
					.data(data)                                                          
					.enter()
					.append("circle")
					.attr("r", 5);
			
			chartGroup4.selectAll("circle")
					.transition()
					.duration(800)
					.attr("transform", function (d) {
						return "translate(" + x(d[0]) + "," + y(d[1]) + ")";
					});
			
			setTimeout(update4, 1000);
		}
		
		update4();
</script>